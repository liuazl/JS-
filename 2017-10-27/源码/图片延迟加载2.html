<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8" />
	<title>图片延迟加载</title>
	<meta name="generator" content="EverEdit" />
	<meta name="author" content="" />
	<meta name="keywords" content="" />
	<meta name="description" content="" />

	<style>
		img {
			width: 300px;
			height:300px;
			float:left;
			margin: 10px;
			border: #000 1px solid;
		}
	</style>
      <script type="text/javascript">
      	function getPos(obj){
	      	var l=0;
	      	var t=0;
	      	while(obj){
		      	l+=obj.offsetLeft;
				t+=obj.offsetTop;
				obj = obj.offsetParent;
	      	}
	      	return {left:l,top:t};
      	}

      	window.onload=window.onscrol=window.onresize=function(){
	      	var aImg = document.getElementsByTagName('img');
	var oScroll = document.documentElement.scrollTop || document.body.scrollTop;
	var clientH = document.documentElement.clientHeight;
	for(var i = 0; i < aImg.length; i++){
		var imgTop = getPos(aImg[i]).top;	
		if(oScroll + clientH >= imgTop){
			aImg[i].src = aImg[i].getAttribute('_src');	
		}

      	}
      </script>
</head>
<body>
	<img src="img/b1.jpg" alt=""/>
	<img src="img/b2.jpg" alt=""/>
	<img src="img/b3.jpg" alt=""/>
	<img src="img/b4.jpg" alt=""/>
	<img src="img/b5.jpg" alt=""/>
	<img src="img/b6.jpg" alt=""/>
	<img src="img/b7.jpg" alt=""/>
	<img src="img/b8.jpg" alt=""/>
	<img src="img/b9.jpg" alt=""/>
	<img src="img/b10.jpg" alt=""/>

</body>
</html>
